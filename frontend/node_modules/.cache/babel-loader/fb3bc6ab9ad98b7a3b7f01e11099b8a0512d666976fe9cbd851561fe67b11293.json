{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yi Tao\\\\Documents\\\\GitHub\\\\WorkSync-Orbital\\\\frontend\\\\src\\\\components\\\\Section.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useTaskContext } from \"../hooks/useTaskContext\";\nimport { useSectionContext } from \"../hooks/useSectionContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport TaskDetails from \"../components/TaskDetails\";\nimport TaskFormBtn from \"../components/TaskFormBtn\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Section = ({\n  section,\n  tasks\n}) => {\n  _s();\n  //const { taskDispatch } = useTaskContext();\n  //const { sectionDispatch } = useSectionContext();\n  const {\n    user\n  } = useAuthContext();\n  const [sortedTasks, setSortedTasks] = useState([]);\n  const [sortBy, setSortBy] = useState('createdAt');\n  const [sortOrder, setSortOrder] = useState('asc');\n  useEffect(() => {\n    const sortTasks = () => {\n      const sorted = [...tasks].filter(task => task.sectionId === section._id).sort((a, b) => {\n        if (sortOrder === 'asc') {\n          return a[sortBy] > b[sortBy] ? 1 : -1;\n        } else {\n          return a[sortBy] < b[sortBy] ? 1 : -1;\n        }\n      });\n      setSortedTasks(sorted);\n    };\n    sortTasks();\n  }, [tasks, sortBy, sortOrder, section._id]);\n  const handleSortChange = e => {\n    const field = e.target.value;\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortOrder('asc');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"task-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: section.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sorting-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Sort by: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sortBy,\n        onChange: handleSortChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"createdAt\",\n          children: \"Creation Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"description\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"deadline\",\n          children: \"Deadline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc'),\n        children: sortOrder === 'asc' ? 'Ascending' : 'Descending'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: tasks && tasks.filter(task => task.sectionId === section._id).map(task => /*#__PURE__*/_jsxDEV(TaskDetails, {\n        task: task\n      }, task._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TaskFormBtn, {\n      section: section\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(Section, \"XpS9RJQJ2A+1wZWqxvw+AfDa3Gw=\", false, function () {\n  return [useAuthContext];\n});\n_c = Section;\nexport default Section;\nvar _c;\n$RefreshReg$(_c, \"Section\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useTaskContext","useSectionContext","useAuthContext","TaskDetails","TaskFormBtn","jsxDEV","_jsxDEV","Section","section","tasks","_s","user","sortedTasks","setSortedTasks","sortBy","setSortBy","sortOrder","setSortOrder","sortTasks","sorted","filter","task","sectionId","_id","sort","a","b","handleSortChange","e","field","target","value","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","map","_c","$RefreshReg$"],"sources":["C:/Users/Yi Tao/Documents/GitHub/WorkSync-Orbital/frontend/src/components/Section.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useTaskContext } from \"../hooks/useTaskContext\"\r\nimport { useSectionContext } from \"../hooks/useSectionContext\"\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n\r\nimport TaskDetails from \"../components/TaskDetails\"\r\nimport TaskFormBtn from \"../components/TaskFormBtn\"\r\n\r\nconst Section = ({ section, tasks }) => {\r\n    //const { taskDispatch } = useTaskContext();\r\n    //const { sectionDispatch } = useSectionContext();\r\n    const { user } = useAuthContext()\r\n    const [sortedTasks, setSortedTasks] = useState([]);\r\n    const [sortBy, setSortBy] = useState('createdAt');\r\n    const [sortOrder, setSortOrder] = useState('asc');\r\n\r\n  useEffect(() => {\r\n    const sortTasks = () => {\r\n      const sorted = [...tasks]\r\n        .filter(task => task.sectionId === section._id)\r\n        .sort((a, b) => {\r\n          if (sortOrder === 'asc') {\r\n            return a[sortBy] > b[sortBy] ? 1 : -1;\r\n          } else {\r\n            return a[sortBy] < b[sortBy] ? 1 : -1;\r\n          }\r\n        });\r\n      setSortedTasks(sorted);\r\n    };\r\n\r\n    sortTasks();\r\n  }, [tasks, sortBy, sortOrder, section._id]);\r\n\r\n  const handleSortChange = (e) => {\r\n    const field = e.target.value;\r\n    if (sortBy === field) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(field);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n    return (\r\n        <div className=\"task-section\">\r\n            <h1>{section.title}</h1>\r\n            <div className=\"sorting-controls\">\r\n        <label>Sort by: </label>\r\n        <select value={sortBy} onChange={handleSortChange}>\r\n          <option value=\"createdAt\">Creation Date</option>\r\n          <option value=\"title\">Title</option>\r\n          <option value=\"description\">Description</option>\r\n          <option value=\"deadline\">Deadline</option>\r\n        </select>\r\n        <button onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}>\r\n          {sortOrder === 'asc' ? 'Ascending' : 'Descending'}\r\n        </button>\r\n      </div>\r\n            <ul>\r\n                {tasks && tasks.filter((task) => task.sectionId === section._id).map(task => (\r\n                    <TaskDetails task={task} key={task._id} />\r\n                ))}\r\n            </ul>\r\n            <TaskFormBtn section={section} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Section"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,cAAc,QAAQ,yBAAyB;AACxD,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,SAASC,cAAc,QAAQ,yBAAyB;AAExD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,WAAW,MAAM,2BAA2B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,OAAO,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAM,CAAC,KAAK;EAAAC,EAAA;EACpC;EACA;EACA,MAAM;IAAEC;EAAK,CAAC,GAAGT,cAAc,CAAC,CAAC;EACjC,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,WAAW,CAAC;EACjD,MAAM,CAACmB,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EAEnDC,SAAS,CAAC,MAAM;IACd,MAAMoB,SAAS,GAAGA,CAAA,KAAM;MACtB,MAAMC,MAAM,GAAG,CAAC,GAAGV,KAAK,CAAC,CACtBW,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,SAAS,KAAKd,OAAO,CAACe,GAAG,CAAC,CAC9CC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QACd,IAAIV,SAAS,KAAK,KAAK,EAAE;UACvB,OAAOS,CAAC,CAACX,MAAM,CAAC,GAAGY,CAAC,CAACZ,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC,MAAM;UACL,OAAOW,CAAC,CAACX,MAAM,CAAC,GAAGY,CAAC,CAACZ,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACvC;MACF,CAAC,CAAC;MACJD,cAAc,CAACM,MAAM,CAAC;IACxB,CAAC;IAEDD,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACT,KAAK,EAAEK,MAAM,EAAEE,SAAS,EAAER,OAAO,CAACe,GAAG,CAAC,CAAC;EAE3C,MAAMI,gBAAgB,GAAIC,CAAC,IAAK;IAC9B,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK;IAC5B,IAAIjB,MAAM,KAAKe,KAAK,EAAE;MACpBZ,YAAY,CAACD,SAAS,KAAK,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;IACpD,CAAC,MAAM;MACLD,SAAS,CAACc,KAAK,CAAC;MAChBZ,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAEC,oBACIX,OAAA;IAAK0B,SAAS,EAAC,cAAc;IAAAC,QAAA,gBACzB3B,OAAA;MAAA2B,QAAA,EAAKzB,OAAO,CAAC0B;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACxBhC,OAAA;MAAK0B,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBACrC3B,OAAA;QAAA2B,QAAA,EAAO;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACxBhC,OAAA;QAAQyB,KAAK,EAAEjB,MAAO;QAACyB,QAAQ,EAAEZ,gBAAiB;QAAAM,QAAA,gBAChD3B,OAAA;UAAQyB,KAAK,EAAC,WAAW;UAAAE,QAAA,EAAC;QAAa;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChDhC,OAAA;UAAQyB,KAAK,EAAC,OAAO;UAAAE,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACpChC,OAAA;UAAQyB,KAAK,EAAC,aAAa;UAAAE,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAChDhC,OAAA;UAAQyB,KAAK,EAAC,UAAU;UAAAE,QAAA,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eACThC,OAAA;QAAQkC,OAAO,EAAEA,CAAA,KAAMvB,YAAY,CAACD,SAAS,KAAK,KAAK,GAAG,MAAM,GAAG,KAAK,CAAE;QAAAiB,QAAA,EACvEjB,SAAS,KAAK,KAAK,GAAG,WAAW,GAAG;MAAY;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eACAhC,OAAA;MAAA2B,QAAA,EACKxB,KAAK,IAAIA,KAAK,CAACW,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,SAAS,KAAKd,OAAO,CAACe,GAAG,CAAC,CAACkB,GAAG,CAACpB,IAAI,iBACrEf,OAAA,CAACH,WAAW;QAACkB,IAAI,EAAEA;MAAK,GAAMA,IAAI,CAACE,GAAG;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC5C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eACLhC,OAAA,CAACF,WAAW;MAACI,OAAO,EAAEA;IAAQ;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChC,CAAC;AAEd,CAAC;AAAA5B,EAAA,CA1DKH,OAAO;EAAA,QAGQL,cAAc;AAAA;AAAAwC,EAAA,GAH7BnC,OAAO;AA4Db,eAAeA,OAAO;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}