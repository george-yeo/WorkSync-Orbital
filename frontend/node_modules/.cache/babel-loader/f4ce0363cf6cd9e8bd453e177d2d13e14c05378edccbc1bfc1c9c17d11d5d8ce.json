{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yi Tao\\\\Documents\\\\GitHub\\\\WorkSync-Orbital\\\\frontend\\\\src\\\\components\\\\group-page\\\\ManageGroupModal.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from 'react-router-dom';\nimport { useGroupContext } from \"../../hooks/useGroupContext\";\nimport { useGroupPageContext } from \"../../hooks/useGroupPageContext\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { GroupPic } from \".//GroupPic\";\nimport Modal from 'react-modal';\nimport Member from \"./Member\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageGroupModal = ({\n  isOpen,\n  setIsManageOpen\n}) => {\n  _s();\n  const {\n    user\n  } = useAuthContext();\n  const {\n    groups,\n    dispatch\n  } = useGroupContext();\n  const groupPageContext = useGroupPageContext();\n  const [status, setStatus] = useState(null);\n  const [groupName, setGroupName] = useState('');\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [file, setFile] = useState(null);\n  const navigate = useNavigate();\n  const group = groupPageContext.group;\n  const isPrivate = group.isPrivate == true;\n  const handleTogglePrivacy = async () => {\n    if (!user) return;\n    try {\n      // Add the user to the group\n      const response = await fetch(`/api/group/privacy/` + group._id, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: JSON.stringify({\n          isPrivate: !isPrivate\n        })\n      });\n      const json = await response.json();\n      if (response.ok) {\n        // Dispatch the updated group which should include both membersID and pendingID\n        group.isPrivate = json;\n        dispatch({\n          type: 'UPDATE_GROUP',\n          payload: group\n        });\n        groupPageContext.dispatch({\n          type: 'SET_GROUP',\n          payload: group\n        });\n        setStatus({\n          success: true\n        });\n      } else {\n        console.error(\"Error revoke invite:\", json.error);\n        setStatus({\n          success: false,\n          message: json.error\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to revoke invite:\", error);\n      setStatus({\n        success: false,\n        message: error.message\n      });\n    }\n  };\n  const handleRenameGroup = async e => {\n    e.preventDefault();\n    if (!user || group.name === groupName) return;\n    try {\n      // Add the user to the group\n      const response = await fetch(`/api/group/rename/` + group._id, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: JSON.stringify({\n          name: groupName\n        })\n      });\n      const json = await response.json();\n      if (response.ok) {\n        // Dispatch the updated group which should include both membersID and pendingID\n        group.name = json;\n        dispatch({\n          type: 'UPDATE_GROUP',\n          payload: group\n        });\n        groupPageContext.dispatch({\n          type: 'SET_GROUP',\n          payload: group\n        });\n        setStatus({\n          success: true,\n          message: \"Name changed successfully!\"\n        });\n      } else {\n        console.error(\"Error changing name:\", json.error);\n        setStatus({\n          success: false,\n          message: json.error\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed changing name:\", error);\n      setStatus({\n        success: false,\n        message: error.message\n      });\n    }\n  };\n  const handleDelete = async () => {\n    if (!user) return;\n    try {\n      // Add the user to the group\n      const response = await fetch(`/api/group/delete/` + group._id, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        }\n      });\n      const json = await response.json();\n      if (response.ok) {\n        dispatch({\n          type: 'DELETE_GROUP',\n          payload: group._id\n        });\n        navigate(\"/group\");\n      } else {\n        console.error(\"Error deleting:\", json.error);\n        setStatus({\n          success: false,\n          message: json.error\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to revoke invite:\", error);\n      setStatus({\n        success: false,\n        message: error.message\n      });\n    }\n  };\n  const onClose = () => {\n    setStatus(null);\n    setIsManageOpen(false);\n  };\n  const openPopup = () => {\n    setShowPopup(true);\n  };\n  const closePopup = () => {\n    setShowPopup(false);\n  };\n  const handleUploadPic = async () => {\n    if (!file || !user) return;\n    const formData = new FormData();\n    formData.append('groupPic', file);\n    try {\n      const response = await fetch(`/api/group/change-pic/${group._id}`, {\n        method: 'PATCH',\n        headers: {\n          'Authorization': `Bearer ${user.token}`\n        },\n        body: formData\n      });\n      const json = await response.json();\n      if (response.ok) {\n        group.GroupPic = json;\n        dispatch({\n          type: 'UPDATE_GROUP',\n          payload: group\n        });\n        groupPageContext.dispatch({\n          type: 'UPDATE_GROUP',\n          payload: group\n        });\n        setStatus({\n          success: true,\n          message: \"Picture updated successfully!\"\n        });\n        closePopup();\n      } else {\n        console.error(\"Error uploading picture:\", json.error);\n        setStatus({\n          success: false,\n          message: json.error\n        });\n      }\n    } catch (error) {\n      console.error(\"Failed to upload picture:\", error);\n      setStatus({\n        success: false,\n        message: error.message\n      });\n    }\n  };\n  return isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup-form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-content group-manage\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"title\",\n        children: \"Group Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"close-btn\",\n        onClick: onClose,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting\",\n        children: [\"Is Group Public?\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: isPrivate ? \"delete-btn\" : \"add-btn\",\n          onClick: handleTogglePrivacy,\n          children: isPrivate ? \"No\" : \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting\",\n        children: [\"Change Group Picture\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-btn\",\n          onClick: openPopup,\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this), showPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popup-form\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popup-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"close-btn\",\n              onClick: closePopup,\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: e => setFile(e.target.files[0])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-btn\",\n              onClick: handleUploadPic,\n              children: \"Upload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting\",\n        children: [\"Rename Group\", /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRenameGroup,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rename-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: groupName,\n              onChange: e => setGroupName(e.target.value),\n              placeholder: group.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-btn\",\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), group.createdByID._id == user._id && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting\",\n        children: [isDeleting ? \"Are you really sure you want to Delete the Group?\" : \"Delete Group\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kick-actions\",\n          children: [!isDeleting && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"remove-btn\",\n            onClick: () => setIsDeleting(true),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 41\n          }, this), isDeleting && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: handleDelete,\n            children: \"Yes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 40\n          }, this), isDeleting && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"remove-btn\",\n            onClick: () => setIsDeleting(false),\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 40\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 55\n      }, this), status && status.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `status-message ${status.success ? 'success' : 'error'}`,\n        children: status.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 19\n  }, this);\n};\n_s(ManageGroupModal, \"J3JPi8haQIjqy4DreUz1n3Y3qGg=\", false, function () {\n  return [useAuthContext, useGroupContext, useGroupPageContext, useNavigate];\n});\n_c = ManageGroupModal;\nexport default ManageGroupModal;\nvar _c;\n$RefreshReg$(_c, \"ManageGroupModal\");","map":{"version":3,"names":["useEffect","useState","useNavigate","useGroupContext","useGroupPageContext","useAuthContext","GroupPic","Modal","Member","jsxDEV","_jsxDEV","ManageGroupModal","isOpen","setIsManageOpen","_s","user","groups","dispatch","groupPageContext","status","setStatus","groupName","setGroupName","isDeleting","setIsDeleting","showPopup","setShowPopup","file","setFile","navigate","group","isPrivate","handleTogglePrivacy","response","fetch","_id","method","headers","token","body","JSON","stringify","json","ok","type","payload","success","console","error","message","handleRenameGroup","e","preventDefault","name","handleDelete","onClose","openPopup","closePopup","handleUploadPic","formData","FormData","append","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onChange","target","files","onSubmit","value","placeholder","createdByID","_c","$RefreshReg$"],"sources":["C:/Users/Yi Tao/Documents/GitHub/WorkSync-Orbital/frontend/src/components/group-page/ManageGroupModal.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate  } from 'react-router-dom'\r\nimport { useGroupContext } from \"../../hooks/useGroupContext\";\r\nimport { useGroupPageContext } from \"../../hooks/useGroupPageContext\";\r\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\r\nimport { GroupPic } from \".//GroupPic\"\r\nimport Modal from 'react-modal';\r\n\r\nimport Member from \"./Member\";\r\n\r\nconst ManageGroupModal = ({ isOpen, setIsManageOpen }) => {\r\n    const { user } = useAuthContext();\r\n    const { groups, dispatch } = useGroupContext();\r\n    const groupPageContext = useGroupPageContext();\r\n    const [status, setStatus] = useState(null);\r\n    const [groupName, setGroupName] = useState('')\r\n    const [isDeleting, setIsDeleting] = useState(false)\r\n    const [showPopup, setShowPopup] = useState(false);\r\n    const [file, setFile] = useState(null);\r\n    const navigate = useNavigate()\r\n\r\n    const group = groupPageContext.group;\r\n\r\n    const isPrivate = group.isPrivate == true\r\n\r\n    const handleTogglePrivacy = async () => {\r\n        if (!user) return;\r\n    \r\n        try {\r\n            // Add the user to the group\r\n            const response = await fetch(`/api/group/privacy/` + group._id, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: JSON.stringify({ isPrivate: !isPrivate })\r\n            });\r\n\r\n            const json = await response.json();\r\n            \r\n            if (response.ok) {\r\n                // Dispatch the updated group which should include both membersID and pendingID\r\n                group.isPrivate = json\r\n                dispatch({ type: 'UPDATE_GROUP', payload: group });\r\n                groupPageContext.dispatch({ type: 'SET_GROUP', payload: group });\r\n                setStatus({ success: true });\r\n            } else {\r\n                console.error(\"Error revoke invite:\", json.error);\r\n                setStatus({ success: false, message: json.error });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to revoke invite:\", error);\r\n            setStatus({ success: false, message: error.message });\r\n        }\r\n    }\r\n\r\n    const handleRenameGroup = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if (!user || group.name === groupName) return;\r\n    \r\n        try {\r\n            // Add the user to the group\r\n            const response = await fetch(`/api/group/rename/` + group._id, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: JSON.stringify({ name: groupName })\r\n            });\r\n\r\n            const json = await response.json();\r\n            \r\n            if (response.ok) {\r\n                // Dispatch the updated group which should include both membersID and pendingID\r\n                group.name = json\r\n                dispatch({ type: 'UPDATE_GROUP', payload: group });\r\n                groupPageContext.dispatch({ type: 'SET_GROUP', payload: group });\r\n                setStatus({ success: true, message: \"Name changed successfully!\" });\r\n            } else {\r\n                console.error(\"Error changing name:\", json.error);\r\n                setStatus({ success: false, message: json.error });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed changing name:\", error);\r\n            setStatus({ success: false, message: error.message });\r\n        }\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        if (!user) return;\r\n        \r\n        \r\n        try {\r\n            // Add the user to the group\r\n            const response = await fetch(`/api/group/delete/` + group._id, {\r\n                method: 'DELETE',\r\n                headers: { 'Authorization': `Bearer ${user.token}` }\r\n            });\r\n\r\n            const json = await response.json();\r\n            \r\n            if (response.ok) {\r\n                dispatch({ type: 'DELETE_GROUP', payload: group._id });\r\n                navigate(\"/group\")\r\n            } else {\r\n                console.error(\"Error deleting:\", json.error);\r\n                setStatus({ success: false, message: json.error });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to revoke invite:\", error);\r\n            setStatus({ success: false, message: error.message });\r\n        }\r\n    }\r\n\r\n    const onClose = () => {\r\n        setStatus(null)\r\n        setIsManageOpen(false)\r\n    }\r\n\r\n    const openPopup = () => {\r\n        setShowPopup(true);\r\n      };\r\n    \r\n    const closePopup = () => {\r\n        setShowPopup(false);\r\n    };\r\n\r\n    const handleUploadPic = async() => {\r\n        if (!file || !user) return;\r\n\r\n        const formData = new FormData();\r\n        formData.append('groupPic', file);\r\n\r\n        try {\r\n            const response = await fetch(`/api/group/change-pic/${group._id}`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Authorization': `Bearer ${user.token}`\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            const json = await response.json();\r\n\r\n            if (response.ok) {\r\n                group.GroupPic = json;\r\n                dispatch({ type: 'UPDATE_GROUP', payload: group });\r\n                groupPageContext.dispatch({ type: 'UPDATE_GROUP', payload: group });\r\n                setStatus({ success: true, message: \"Picture updated successfully!\" });\r\n                closePopup();\r\n            } else {\r\n                console.error(\"Error uploading picture:\", json.error);\r\n                setStatus({ success: false, message: json.error });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to upload picture:\", error);\r\n            setStatus({ success: false, message: error.message });\r\n        }\r\n    }\r\n\r\n    return (\r\n        isOpen && <div className=\"popup-form\">\r\n            <div className=\"popup-content group-manage\">\r\n                <h2 className=\"title\">Group Settings</h2>\r\n                <span className=\"close-btn\" onClick={onClose}>&times;</span>\r\n                <div className=\"setting\">\r\n                    Is Group Public?\r\n                    <button className={isPrivate ? \"delete-btn\" : \"add-btn\"} onClick={handleTogglePrivacy}>{isPrivate ? \"No\" : \"Yes\"}</button>\r\n                </div>\r\n                <div className=\"setting\">\r\n                    Change Group Picture\r\n                    <button className=\"add-btn\" onClick={openPopup}>Upload</button>\r\n                    {showPopup && (\r\n                        <div className=\"popup-form\">\r\n                            <div className=\"popup-content\">\r\n                                <span className=\"close-btn\" onClick={closePopup}>&times;</span>\r\n                                <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\r\n                                <button className=\"add-btn\" onClick={handleUploadPic}>Upload</button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"setting\">\r\n                    Rename Group\r\n                    <form onSubmit={handleRenameGroup}>\r\n                        <div className=\"rename-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={groupName}\r\n                                onChange={(e) => setGroupName(e.target.value)}\r\n                                placeholder={group.name}\r\n                            />\r\n                            <button className=\"add-btn\">Change</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                {group.createdByID._id == user._id && <div className=\"setting\">\r\n                    {isDeleting ? \"Are you really sure you want to Delete the Group?\" : \"Delete Group\"}\r\n                    <div className=\"kick-actions\">\r\n                        {!isDeleting && <button className=\"remove-btn\" onClick={()=>setIsDeleting(true)}>Delete</button>}\r\n                        {isDeleting && <button className=\"add-btn\" onClick={handleDelete}>Yes</button>}\r\n                        {isDeleting && <button className=\"remove-btn\" onClick={()=>setIsDeleting(false)}>No</button>}\r\n                    </div>\r\n                </div>}\r\n                {status && status.message && (\r\n                    <div className={`status-message ${status.success ? 'success' : 'error'}`}>\r\n                        {status.message}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ManageGroupModal"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}